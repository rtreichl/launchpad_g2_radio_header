\hypertarget{i2c_8c}{}\section{D\+:/\+G\+I\+T/fhradiov2/driver/src/i2c.c-\/\+Dateireferenz}
\label{i2c_8c}\index{D\+:/\+G\+I\+T/fhradiov2/driver/src/i2c.\+c@{D\+:/\+G\+I\+T/fhradiov2/driver/src/i2c.\+c}}
{\ttfamily \#include $<$driver/i2c.\+h$>$}\\*
Include-\/\+Abhängigkeitsdiagramm für i2c.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{i2c_8c__incl}
\end{center}
\end{figure}
\subsection*{Datenstrukturen}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_i2_c___c_t_r_l}{I2\+C\+\_\+\+C\+T\+R\+L}
\begin{DoxyCompactList}\small\item\em This struct inclued all necessaries for I2\+C module. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Funktionen}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{i2c_8c_a1ef889b72b844429bc81225d7b6f4f2e}{i2c\+\_\+init} (uint16\+\_\+t smclk\+\_\+freq, uint16\+\_\+t i2c\+\_\+freq)
\begin{DoxyCompactList}\small\item\em Setup I2\+C with a defined clock based on given S\+M\+C\+K\+L. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{i2c_8c_a6691e5911f539e1e8178c6e983e8079a}{i2c\+\_\+write\+\_\+var} (uint8\+\_\+t addr, enum \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5}{I2\+C\+\_\+\+C\+R\+T\+L\+\_\+\+C\+M\+D} rept\+\_\+start, uint8\+\_\+t n\+\_\+args,...)
\begin{DoxyCompactList}\small\item\em Transmits I2\+C commands with a variable length to a I2\+C slave. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{i2c_8c_ae0625b97d3437bcaca4ac4b96dd01978}{i2c\+\_\+write\+\_\+arr} (uint8\+\_\+t addr, enum \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5}{I2\+C\+\_\+\+C\+R\+T\+L\+\_\+\+C\+M\+D} rept\+\_\+start, uint8\+\_\+t n\+\_\+size, uint8\+\_\+t $\ast$Tx\+Data)
\begin{DoxyCompactList}\small\item\em Transmits I2\+C command array to a I2\+C slave. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{i2c_8c_a620e4251e56f4961d8879a01a70f31bf}{i2c\+\_\+read} (uint8\+\_\+t addr, enum \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5}{I2\+C\+\_\+\+C\+R\+T\+L\+\_\+\+C\+M\+D} rept\+\_\+start, uint8\+\_\+t R\+X\+Bytes, uint8\+\_\+t $\ast$Rx\+Data)
\begin{DoxyCompactList}\small\item\em Receives I2\+C commands until a N\+A\+C\+K is received or received Rx\+Bytes. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{i2c_8c_ad2d4889950ea1373a0ea88ba55b04ba8}{i2c\+\_\+get\+\_\+status} ()
\item 
\+\_\+\+\_\+interrupt void \hyperlink{i2c_8c_ace3c646aeda748bc89f1536876440b03}{U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R} (void)
\item 
\+\_\+\+\_\+interrupt void \hyperlink{i2c_8c_a1c27b12dfd9998dbc915bee092a83447}{U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R} (void)
\end{DoxyCompactItemize}
\subsection*{Variablen}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_i2_c___c_t_r_l}{I2\+C\+\_\+\+C\+T\+R\+L} \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c} = \{ .\hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{P\+Tx\+Data} = 0, .\hyperlink{structstatus}{status} = \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9bafd6a0e4343048b10646dd2976cc5ad18}{I\+D\+L\+E}, .Tx\+Byte\+Res = 0 \}
\item 
uint8\+\_\+t \hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{P\+Tx\+Data} \mbox{[}\hyperlink{i2c_8h_afd2ccfc308be2593bb7540863b903d67}{I2\+C\+\_\+\+M\+A\+X\+\_\+\+A\+R\+G\+S}\mbox{]} = \{0\}
\end{DoxyCompactItemize}


\subsection{Dokumentation der Funktionen}
\hypertarget{i2c_8c_ad2d4889950ea1373a0ea88ba55b04ba8}{}\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+get\+\_\+status@{i2c\+\_\+get\+\_\+status}}
\index{i2c\+\_\+get\+\_\+status@{i2c\+\_\+get\+\_\+status}!i2c.\+c@{i2c.\+c}}
\subsubsection[{i2c\+\_\+get\+\_\+status}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t i2c\+\_\+get\+\_\+status (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{i2c_8c_ad2d4889950ea1373a0ea88ba55b04ba8}
\begin{DoxyReturn}{Rückgabe}
Actuall state of I2\+C module. 
\end{DoxyReturn}


Definiert in Zeile 179 der Datei i2c.\+c.


\begin{DoxyCode}
180 \{
181     \textcolor{keywordflow}{return} \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status};
182 \}
\end{DoxyCode}
\hypertarget{i2c_8c_a1ef889b72b844429bc81225d7b6f4f2e}{}\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+init@{i2c\+\_\+init}}
\index{i2c\+\_\+init@{i2c\+\_\+init}!i2c.\+c@{i2c.\+c}}
\subsubsection[{i2c\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t i2c\+\_\+init (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{smclk\+\_\+freq, }
\item[{uint16\+\_\+t}]{i2c\+\_\+freq}
\end{DoxyParamCaption}
)}\label{i2c_8c_a1ef889b72b844429bc81225d7b6f4f2e}


Setup I2\+C with a defined clock based on given S\+M\+C\+K\+L. 


\begin{DoxyParams}{Parameter}
{\em smclk\+\_\+freq} & Frequency of S\+M\+C\+L\+K clock in Hz \\
\hline
{\em i2c\+\_\+freq} & Frequency for I2\+C clock in Hz \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
error 
\end{DoxyReturn}


Definiert in Zeile 34 der Datei i2c.\+c.


\begin{DoxyCode}
35 \{
36     \textcolor{comment}{/* Reset USCI\_B0 */}
37     UCB0CTL1 |= UCSWRST;
38 
39     \textcolor{comment}{/* Assign P1.6 and P1.7 to USIC\_B0 */}
40     P1SEL |= BIT6 + BIT7;
41     P1SEL2 |= BIT6 + BIT7;
42 
43     \textcolor{comment}{/* USCI\_B0 as I2C Master */}
44     UCB0CTL0 = UCMST + UCMODE\_3 + UCSYNC;
45 
46     \textcolor{comment}{/* Set SMCLK as clock for USCI\_B0 */}
47     UCB0CTL1 = UCSSEL\_2 + UCSWRST;
48 
49     \textcolor{comment}{/* Calculate prescaler for USCI\_B0 based on SMCLK freq and I2C freq  */}
50     \textcolor{comment}{/*UCB0BR0 = 0x00FF & (uint16\_t)smclk\_freq/i2c\_freq;}
51 \textcolor{comment}{    UCB0BR1 = (0xFF00 & (uint16\_t)smclk\_freq/i2c\_freq) >> 8;*/}
52 
53     UCB0BR0 = 0x14;
54 
55     \textcolor{comment}{/* Enable NACK interrupt */}
56     UCB0I2CIE = UCNACKIE;
57 
58     \textcolor{comment}{/* Resume USCI\_B0 to normal operation state */}
59     UCB0CTL1 &= ~UCSWRST;
60 
61     \textcolor{comment}{/* Enable gloabl interrupts */}
62     \_\_enable\_interrupt();
63 
64     \textcolor{keywordflow}{return} 0;
65 \}
\end{DoxyCode}


Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=293pt]{i2c_8c_a1ef889b72b844429bc81225d7b6f4f2e_icgraph}
\end{center}
\end{figure}


\hypertarget{i2c_8c_a620e4251e56f4961d8879a01a70f31bf}{}\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+read@{i2c\+\_\+read}}
\index{i2c\+\_\+read@{i2c\+\_\+read}!i2c.\+c@{i2c.\+c}}
\subsubsection[{i2c\+\_\+read}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t i2c\+\_\+read (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{addr, }
\item[{enum {\bf I2\+C\+\_\+\+C\+R\+T\+L\+\_\+\+C\+M\+D}}]{rept\+\_\+start, }
\item[{uint8\+\_\+t}]{Rx\+Bytes, }
\item[{uint8\+\_\+t $\ast$}]{Rx\+Data}
\end{DoxyParamCaption}
)}\label{i2c_8c_a620e4251e56f4961d8879a01a70f31bf}


Receives I2\+C commands until a N\+A\+C\+K is received or received Rx\+Bytes. 


\begin{DoxyParams}{Parameter}
{\em addr} & Slave Address in 7-\/bit format. \\
\hline
{\em rept\+\_\+start} & Command for stop or repeated start. \\
\hline
{\em Rx\+Bytes} & Number of receiving bytes. \\
\hline
{\em $\ast$\+Rx\+Data} & Pointer where received I2\+C commands are be writtn. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
error 
\end{DoxyReturn}


Definiert in Zeile 138 der Datei i2c.\+c.


\begin{DoxyCode}
139 \{
140     \textcolor{keywordflow}{while}(\hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status} != \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9bafd6a0e4343048b10646dd2976cc5ad18}{IDLE});
141 
142     \textcolor{comment}{/* Set slave address */}
143     UCB0I2CSA = addr;
144 
145     \textcolor{comment}{/* Change pointer to given buffer */}
146     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a3c8ed69cf31f6ee7aa513fe5f115ba92}{PRxData} = RxData;
147     \textcolor{comment}{/* Load RX counter */}
148     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a37e493c5b47477e45136924079fd9606}{RxByteCtr} = RXBytes;
149 
150     \textcolor{comment}{/* Clear Interrupt */}
151     IE2 = UCB0RXIE;
152 
153     \textcolor{comment}{/* configure receiver mode */}
154     UCB0CTL1 &= ~UCTR;
155 
156     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9ba563f8ed00490ea22ea2605d9571dada8}{RECEIVE};
157 
158     \textcolor{comment}{/* Send a start condition with read flag */}
159     \textcolor{keywordflow}{if} ( \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a37e493c5b47477e45136924079fd9606}{RxByteCtr} == 1 ) \{
160         \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a37e493c5b47477e45136924079fd9606}{RxByteCtr} = 0;
161         \_\_disable\_interrupt();
162         UCB0CTL1 |= UCTXSTT;
163         \textcolor{keywordflow}{while}(UCB0CTL1 & UCTXSTT);
164         UCB0CTL1 |= UCTXSTP;
165         \_\_enable\_interrupt();
166     \}
167     \textcolor{keywordflow}{else} \{
168         \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a37e493c5b47477e45136924079fd9606}{RxByteCtr} -= 2;
169         UCB0CTL1 |= UCTXSTT;
170     \}
171 
172     \textcolor{keywordflow}{while}(UCB0STAT & UCBBUSY);
173 
174     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9bafd6a0e4343048b10646dd2976cc5ad18}{IDLE};
175 
176     \textcolor{keywordflow}{return} 0;
177 \}
\end{DoxyCode}


Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{i2c_8c_a620e4251e56f4961d8879a01a70f31bf_icgraph}
\end{center}
\end{figure}


\hypertarget{i2c_8c_ae0625b97d3437bcaca4ac4b96dd01978}{}\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+write\+\_\+arr@{i2c\+\_\+write\+\_\+arr}}
\index{i2c\+\_\+write\+\_\+arr@{i2c\+\_\+write\+\_\+arr}!i2c.\+c@{i2c.\+c}}
\subsubsection[{i2c\+\_\+write\+\_\+arr}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t i2c\+\_\+write\+\_\+arr (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{addr, }
\item[{enum {\bf I2\+C\+\_\+\+C\+R\+T\+L\+\_\+\+C\+M\+D}}]{rept\+\_\+start, }
\item[{uint8\+\_\+t}]{n\+\_\+size, }
\item[{uint8\+\_\+t $\ast$}]{Tx\+Data}
\end{DoxyParamCaption}
)}\label{i2c_8c_ae0625b97d3437bcaca4ac4b96dd01978}


Transmits I2\+C command array to a I2\+C slave. 


\begin{DoxyParams}{Parameter}
{\em addr} & Slave Address in 7-\/bit format. \\
\hline
{\em rept\+\_\+start} & Command for stop or repeated start. \\
\hline
{\em n\+\_\+size} & Number of transmitting bytes. \\
\hline
{\em $\ast$\+Tx\+Data} & Pointer to I2\+C command bytes to send. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
error 
\end{DoxyReturn}


Definiert in Zeile 103 der Datei i2c.\+c.


\begin{DoxyCode}
104 \{
105     \textcolor{comment}{/* Copy pointer from TxData */}
106     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_af294cab6f89af5bd936b709e202c8421}{PTxData} = TxData;
107 
108     \textcolor{comment}{/* Set slave address */}
109     UCB0I2CSA = addr;
110 
111     \textcolor{comment}{/* Set Transmit Interrupt */}
112     IE2 = UCB0TXIE;
113 
114     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a374bcaa6a416b8601564a1053ddf78bb}{rept\_start} = rept\_start;
115 
116     \textcolor{comment}{/* Load TX byte counter */}
117     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_aec22639ad7dc7eed52b3e116ea3223fe}{TxByteCtr} = n\_size;
118 
119     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9bad208fa8c08969a9d78096817bf0a6377}{TRANSMIT};
120 
121     \textcolor{comment}{/* Send a start condition with write flag */}
122     UCB0CTL1 |= UCTR + UCTXSTT;
123 
124     \textcolor{comment}{/* Wait until Transmition is complet */}
125     \textcolor{keywordflow}{if}(rept\_start == \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}) \{
126         \textcolor{keywordflow}{while}(UCB0STAT & UCBBUSY);
127     \}
128     \textcolor{keywordflow}{else} \{
129         \hyperlink{timer_8c_a3c56af3315c2461dec5ced585a5f84db}{\_delay\_ten\_us}(20);
130     \}
131 
132     \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status} = \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9bafd6a0e4343048b10646dd2976cc5ad18}{IDLE};
133 
134     \textcolor{keywordflow}{return} 0;
135 
136 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{i2c_8c_ae0625b97d3437bcaca4ac4b96dd01978_cgraph}
\end{center}
\end{figure}




Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{i2c_8c_ae0625b97d3437bcaca4ac4b96dd01978_icgraph}
\end{center}
\end{figure}


\hypertarget{i2c_8c_a6691e5911f539e1e8178c6e983e8079a}{}\index{i2c.\+c@{i2c.\+c}!i2c\+\_\+write\+\_\+var@{i2c\+\_\+write\+\_\+var}}
\index{i2c\+\_\+write\+\_\+var@{i2c\+\_\+write\+\_\+var}!i2c.\+c@{i2c.\+c}}
\subsubsection[{i2c\+\_\+write\+\_\+var}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t i2c\+\_\+write\+\_\+var (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{addr, }
\item[{enum {\bf I2\+C\+\_\+\+C\+R\+T\+L\+\_\+\+C\+M\+D}}]{rept\+\_\+start, }
\item[{uint8\+\_\+t}]{n\+\_\+args, }
\item[{}]{...}
\end{DoxyParamCaption}
)}\label{i2c_8c_a6691e5911f539e1e8178c6e983e8079a}


Transmits I2\+C commands with a variable length to a I2\+C slave. 


\begin{DoxyParams}{Parameter}
{\em addr} & Slave Address in 7-\/bit format. \\
\hline
{\em rept\+\_\+start} & Command for stop or repeated start. \\
\hline
{\em n\+\_\+args} & Number of command bytes. \\
\hline
{\em ...} & I2\+C command bytes to send. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Rückgabe}
error 
\end{DoxyReturn}


Definiert in Zeile 67 der Datei i2c.\+c.


\begin{DoxyCode}
68 \{
69     \textcolor{comment}{/* Wait until all transmitions and receptions done */}
70     \textcolor{keywordflow}{while}( \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_ade818037fd6c985038ff29656089758d}{status} != \hyperlink{i2c_8h_a8f12d82f4a490ef04de32baf91363d9bafd6a0e4343048b10646dd2976cc5ad18}{IDLE});
71 
72 \textcolor{preprocessor}{#if VARIADIC\_IMPLEMENTATION}
73 
74     \textcolor{comment}{/* Reserve size of memory for transmit buffer if buffer is uninitialised*/}
75     \textcolor{keywordflow}{if}(\hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{PTxData} == 0) \{
76         \hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{PTxData} = (uint8\_t *) malloc(n\_args * \textcolor{keyword}{sizeof}(uint8\_t));
77         \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a28b787f8db17314755d031d75ec38017}{TxByteRes} = n\_args;
78     \}
79     \textcolor{comment}{/* Reserve more memory if actual size not enough */}
80     \textcolor{keywordflow}{else} \{
81         \textcolor{keywordflow}{if}(\hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a28b787f8db17314755d031d75ec38017}{TxByteRes} < n\_args) \{
82             \hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{PTxData} = (uint8\_t *) realloc(\hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{PTxData}, n\_args * \textcolor{keyword}{sizeof}(uint8\_t));
83             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a28b787f8db17314755d031d75ec38017}{TxByteRes} = n\_args;
84         \}
85     \}
86 
87 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* VARIADIC\_IMPLEMENTATION */}\textcolor{preprocessor}{}
88 
89     uint8\_t i = 0;
90     va\_list ap;
91 
92     \textcolor{comment}{/* Read n\_args from function}
93 \textcolor{comment}{     * Copy args to transmit buffer}
94 \textcolor{comment}{     */}
95     va\_start(ap, n\_args);
96     \textcolor{keywordflow}{for}(i = 0; i < n\_args; i++)
97         \hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{PTxData}[i] = va\_arg(ap, uint8\_t);
98     va\_end(ap);
99 
100     \textcolor{keywordflow}{return} \hyperlink{i2c_8c_ae0625b97d3437bcaca4ac4b96dd01978}{i2c\_write\_arr}(addr, rept\_start, n\_args, \hyperlink{i2c_8c_ac20eea448283bc60729067c96d439ae8}{PTxData});
101 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{i2c_8c_a6691e5911f539e1e8178c6e983e8079a_cgraph}
\end{center}
\end{figure}




Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{i2c_8c_a6691e5911f539e1e8178c6e983e8079a_icgraph}
\end{center}
\end{figure}


\hypertarget{i2c_8c_a1c27b12dfd9998dbc915bee092a83447}{}\index{i2c.\+c@{i2c.\+c}!U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R@{U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R}}
\index{U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R@{U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R}!i2c.\+c@{i2c.\+c}}
\subsubsection[{U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+interrupt void U\+S\+C\+I\+A\+B0\+R\+X\+\_\+\+I\+S\+R (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{i2c_8c_a1c27b12dfd9998dbc915bee092a83447}


Definiert in Zeile 216 der Datei i2c.\+c.


\begin{DoxyCode}
217 \{
218     \textcolor{keywordflow}{if}( UCB0STAT & UCNACKIFG) \{
219         UCB0CTL1 |= UCTXSTP;
220         UCB0STAT &= ~UCNACKIFG;
221     \}
222 \}
\end{DoxyCode}
\hypertarget{i2c_8c_ace3c646aeda748bc89f1536876440b03}{}\index{i2c.\+c@{i2c.\+c}!U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R@{U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R}}
\index{U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R@{U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R}!i2c.\+c@{i2c.\+c}}
\subsubsection[{U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+interrupt void U\+S\+C\+I\+A\+B0\+T\+X\+\_\+\+I\+S\+R (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{i2c_8c_ace3c646aeda748bc89f1536876440b03}


Definiert in Zeile 185 der Datei i2c.\+c.


\begin{DoxyCode}
186 \{
187     \textcolor{keywordflow}{if}(IFG2 & UCB0RXIFG) \{
188         \textcolor{keywordflow}{if}( \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a37e493c5b47477e45136924079fd9606}{RxByteCtr} == 0) \{
189             UCB0CTL1 |= UCTXSTP;
190             *(\hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a3c8ed69cf31f6ee7aa513fe5f115ba92}{PRxData}) = UCB0RXBUF;
191             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a3c8ed69cf31f6ee7aa513fe5f115ba92}{PRxData}++;
192         \}
193         \textcolor{keywordflow}{else} \{
194             *(\hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a3c8ed69cf31f6ee7aa513fe5f115ba92}{PRxData}) = UCB0RXBUF;
195             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a3c8ed69cf31f6ee7aa513fe5f115ba92}{PRxData}++;
196             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a37e493c5b47477e45136924079fd9606}{RxByteCtr}--;
197         \}
198     \}
199     \textcolor{keywordflow}{else} \{
200         \textcolor{keywordflow}{if}( \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_aec22639ad7dc7eed52b3e116ea3223fe}{TxByteCtr} == 0) \{
201             \textcolor{keywordflow}{if}( \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a374bcaa6a416b8601564a1053ddf78bb}{rept\_start} == \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}) \{
202                 UCB0CTL1 |= UCTXSTP;
203             \}
204             IFG2 &= ~UCB0TXIFG;
205             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_a374bcaa6a416b8601564a1053ddf78bb}{rept\_start} = \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP};
206         \}
207         \textcolor{keywordflow}{else} \{
208             UCB0TXBUF = *(\hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_af294cab6f89af5bd936b709e202c8421}{PTxData});
209             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_af294cab6f89af5bd936b709e202c8421}{PTxData}++;
210             \hyperlink{i2c_8c_ac88c1666422f322663fc6c63434dba97}{i2c}.\hyperlink{struct_i2_c___c_t_r_l_aec22639ad7dc7eed52b3e116ea3223fe}{TxByteCtr}--;
211         \}
212     \}
213 \}
\end{DoxyCode}


\subsection{Variablen-\/\+Dokumentation}
\hypertarget{i2c_8c_ac88c1666422f322663fc6c63434dba97}{}\index{i2c.\+c@{i2c.\+c}!i2c@{i2c}}
\index{i2c@{i2c}!i2c.\+c@{i2c.\+c}}
\subsubsection[{i2c}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf I2\+C\+\_\+\+C\+T\+R\+L}  i2c = \{ .{\bf P\+Tx\+Data} = 0, .{\bf status} = {\bf I\+D\+L\+E}, .Tx\+Byte\+Res = 0 \}}\label{i2c_8c_ac88c1666422f322663fc6c63434dba97}
\hypertarget{i2c_8c_ac20eea448283bc60729067c96d439ae8}{}\index{i2c.\+c@{i2c.\+c}!P\+Tx\+Data@{P\+Tx\+Data}}
\index{P\+Tx\+Data@{P\+Tx\+Data}!i2c.\+c@{i2c.\+c}}
\subsubsection[{P\+Tx\+Data}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t P\+Tx\+Data\mbox{[}{\bf I2\+C\+\_\+\+M\+A\+X\+\_\+\+A\+R\+G\+S}\mbox{]} = \{0\}}\label{i2c_8c_ac20eea448283bc60729067c96d439ae8}


Definiert in Zeile 30 der Datei i2c.\+c.

