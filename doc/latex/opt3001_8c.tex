\hypertarget{opt3001_8c}{}\section{D\+:/\+G\+I\+T/fhradiov2/driver/src/opt3001.c-\/\+Dateireferenz}
\label{opt3001_8c}\index{D\+:/\+G\+I\+T/fhradiov2/driver/src/opt3001.\+c@{D\+:/\+G\+I\+T/fhradiov2/driver/src/opt3001.\+c}}
{\ttfamily \#include $<$driver/opt3001.\+h$>$}\\*
Include-\/\+Abhängigkeitsdiagramm für opt3001.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opt3001_8c__incl}
\end{center}
\end{figure}
\subsection*{Funktionen}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{opt3001_8c_adc4f87c7b66e9137a35d55e0dc405bf9}{opt3001\+\_\+init} (\hyperlink{opt3001_8h_a85ef6b0023cd0d3f58e5f229b4d568ed}{O\+P\+T3001\+\_\+\+S\+T\+C} $\ast$config)
\item 
uint8\+\_\+t \hyperlink{opt3001_8c_a4910f99caac4b6293a33627107cb7e82}{opt3001\+\_\+get\+\_\+value} (uint32\+\_\+t $\ast$data)
\end{DoxyCompactItemize}


\subsection{Dokumentation der Funktionen}
\hypertarget{opt3001_8c_a4910f99caac4b6293a33627107cb7e82}{}\index{opt3001.\+c@{opt3001.\+c}!opt3001\+\_\+get\+\_\+value@{opt3001\+\_\+get\+\_\+value}}
\index{opt3001\+\_\+get\+\_\+value@{opt3001\+\_\+get\+\_\+value}!opt3001.\+c@{opt3001.\+c}}
\subsubsection[{opt3001\+\_\+get\+\_\+value}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t opt3001\+\_\+get\+\_\+value (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t $\ast$}]{data}
\end{DoxyParamCaption}
)}\label{opt3001_8c_a4910f99caac4b6293a33627107cb7e82}


Definiert in Zeile 19 der Datei opt3001.\+c.


\begin{DoxyCode}
20 \{
21     \textcolor{keyword}{union }\{
22         uint8\_t bytes[2];
23         uint16\_t byte;
24     \}value;
25 
26     uint8\_t resp[2];
27 
28     \hyperlink{i2c_8h_a6691e5911f539e1e8178c6e983e8079a}{i2c\_write\_var}(\hyperlink{opt3001_8h_ad39c35e048af0890a99974e93c93cee9}{OPT3001\_I2C\_ADR}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a807d17ddb75240ddeede2c54fd79bd40}{REPT}, 1, 
      \hyperlink{opt3001_8h_adc31d7638b454133413e5bdded688dcd}{OPT3001\_RESULT\_REG});
29     \hyperlink{i2c_8h_a6dd896b0c82d1aa91a1a8155b41c4566}{i2c\_read}(\hyperlink{opt3001_8h_ad39c35e048af0890a99974e93c93cee9}{OPT3001\_I2C\_ADR}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}, 2, resp);
30 
31     value.bytes[0] = resp[1];
32     value.bytes[1] = resp[0];
33     \textcolor{comment}{/* Get actual value over I2C and combine higher byte and lower byte */}
34     *data = ((value.byte & 0x0FFFF) << ((value.byte & 0xF000) >> 12));
35     \textcolor{keywordflow}{return} 0;
36 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opt3001_8c_a4910f99caac4b6293a33627107cb7e82_cgraph}
\end{center}
\end{figure}




Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=325pt]{opt3001_8c_a4910f99caac4b6293a33627107cb7e82_icgraph}
\end{center}
\end{figure}


\hypertarget{opt3001_8c_adc4f87c7b66e9137a35d55e0dc405bf9}{}\index{opt3001.\+c@{opt3001.\+c}!opt3001\+\_\+init@{opt3001\+\_\+init}}
\index{opt3001\+\_\+init@{opt3001\+\_\+init}!opt3001.\+c@{opt3001.\+c}}
\subsubsection[{opt3001\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t opt3001\+\_\+init (
\begin{DoxyParamCaption}
\item[{{\bf O\+P\+T3001\+\_\+\+S\+T\+C} $\ast$}]{config}
\end{DoxyParamCaption}
)}\label{opt3001_8c_adc4f87c7b66e9137a35d55e0dc405bf9}


Definiert in Zeile 10 der Datei opt3001.\+c.


\begin{DoxyCode}
11 \{
12     \hyperlink{i2c_8h_a6691e5911f539e1e8178c6e983e8079a}{i2c\_write\_var}(\hyperlink{opt3001_8h_ad39c35e048af0890a99974e93c93cee9}{OPT3001\_I2C\_ADR}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}, 3, 
      \hyperlink{opt3001_8h_a97a74783c7f6707babcc81aedb4cf9bc}{OPT3001\_CONFIG\_REG}, config->\hyperlink{structopt3001__stc_aa26297bc57b4b74262246d02175f4308}{config}); \textcolor{comment}{//TODO split in high and low byte}
13     \hyperlink{i2c_8h_a6691e5911f539e1e8178c6e983e8079a}{i2c\_write\_var}(\hyperlink{opt3001_8h_ad39c35e048af0890a99974e93c93cee9}{OPT3001\_I2C\_ADR}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}, 3, 
      \hyperlink{opt3001_8h_aa13506d6c56601c3cd1686bd4a9b757f}{OPT3001\_L\_LIMIT\_REG}, config->\hyperlink{structopt3001__stc_a5561e4eedc9af4ceb86ed5056241bf77}{low\_limit}); \textcolor{comment}{//TODO split in high and low byte}
14     \hyperlink{i2c_8h_a6691e5911f539e1e8178c6e983e8079a}{i2c\_write\_var}(\hyperlink{opt3001_8h_ad39c35e048af0890a99974e93c93cee9}{OPT3001\_I2C\_ADR}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}, 3, 
      \hyperlink{opt3001_8h_aca3ce0064552360839f2890488ac2e6e}{OPT3001\_H\_LIMIT\_REG}, config->\hyperlink{structopt3001__stc_af121d4246e275920873b33ad155fa9ba}{high\_limit}); \textcolor{comment}{//TODO split in high and low byte}
15     \textcolor{comment}{/* Some I2C writes for first configuration on OPT3001 */}
16     \textcolor{keywordflow}{return} 0;
17 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{opt3001_8c_adc4f87c7b66e9137a35d55e0dc405bf9_cgraph}
\end{center}
\end{figure}


