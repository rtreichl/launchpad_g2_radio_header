\hypertarget{rds_8h}{}\section{D\+:/\+G\+I\+T/fhradiov2/system/rds.h-\/\+Dateireferenz}
\label{rds_8h}\index{D\+:/\+G\+I\+T/fhradiov2/system/rds.\+h@{D\+:/\+G\+I\+T/fhradiov2/system/rds.\+h}}
{\ttfamily \#include $<$stdint.\+h$>$}\\*
{\ttfamily \#include $<$driver/i2c.\+h$>$}\\*
{\ttfamily \#include $<$driver/si4735.\+h$>$}\\*
{\ttfamily \#include $<$system/time.\+h$>$}\\*
{\ttfamily \#include $<$driver/timer.\+h$>$}\\*
{\ttfamily \#include $<$system/radio.\+h$>$}\\*
Include-\/\+Abhängigkeitsdiagramm für rds.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rds_8h__incl}
\end{center}
\end{figure}
Dieser Graph zeigt, welche Datei direkt oder indirekt diese Datei enthält\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{rds_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Datenstrukturen}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structstatus}{status}
\item 
struct \hyperlink{structinfo}{info}
\item 
struct \hyperlink{structsync}{sync}
\item 
struct \hyperlink{structfifo}{fifo}
\item 
struct \hyperlink{structerr}{err}
\item 
struct \hyperlink{structgroup__0a}{group\+\_\+0a}
\item 
struct \hyperlink{structgroup__0b}{group\+\_\+0b}
\item 
struct \hyperlink{structgroup__2a}{group\+\_\+2a}
\item 
struct \hyperlink{structgroup__2b}{group\+\_\+2b}
\item 
struct \hyperlink{structgroup__1b}{group\+\_\+1b}
\item 
struct \hyperlink{structgroup__1a}{group\+\_\+1a}
\item 
struct \hyperlink{structgroup__4a}{group\+\_\+4a}
\item 
struct \hyperlink{structblock__b}{block\+\_\+b}
\item 
struct \hyperlink{structrds}{rds}
\end{DoxyCompactItemize}
\subsection*{Typdefinitionen}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structstatus}{status} \hyperlink{rds_8h_ada2ef00c464f9ae8ec73e127ea6a4520}{S\+T\+A\+T\+U\+S}
\item 
typedef struct \hyperlink{structinfo}{info} \hyperlink{rds_8h_a4d0cac7fd06c1f9b01c6a67516c95cfb}{I\+N\+F\+O}
\item 
typedef struct \hyperlink{structsync}{sync} \hyperlink{rds_8h_a09f25e919a775a5955c4fb87155e2762}{S\+Y\+N\+C}
\item 
typedef struct \hyperlink{structfifo}{fifo} \hyperlink{rds_8h_a632395f1ea2941b14cb3baef84705059}{F\+I\+F\+O}
\item 
typedef struct \hyperlink{structerr}{err} \hyperlink{rds_8h_aa7225a8602f1106cb23bf648d85efb2c}{E\+R\+R}
\item 
typedef struct \hyperlink{structgroup__0a}{group\+\_\+0a} \hyperlink{rds_8h_aef18b47083d2359562cfb461abaeb506}{G\+R\+O\+U\+P\+\_\+0\+A}
\item 
typedef struct \hyperlink{structgroup__0b}{group\+\_\+0b} \hyperlink{rds_8h_acaf58e320b7e8650ce7e6b08e2c7bae6}{G\+R\+O\+U\+P\+\_\+0\+B}
\item 
typedef struct \hyperlink{structgroup__2a}{group\+\_\+2a} \hyperlink{rds_8h_a0ec95853c4e1324ddba45808cbd59c7e}{G\+R\+O\+U\+P\+\_\+2\+A}
\item 
typedef struct \hyperlink{structgroup__2b}{group\+\_\+2b} \hyperlink{rds_8h_a5efde26f48e56fb2c2d6191e0758c3af}{G\+R\+O\+U\+P\+\_\+2\+B}
\item 
typedef struct \hyperlink{structgroup__1b}{group\+\_\+1b} \hyperlink{rds_8h_a070776b406aa790898c610c4b702f534}{G\+R\+O\+U\+P\+\_\+1\+B}
\item 
typedef struct \hyperlink{structgroup__1a}{group\+\_\+1a} \hyperlink{rds_8h_acfe247c102e1dbe1a43ca964459cc4a8}{G\+R\+O\+U\+P\+\_\+1\+A}
\item 
typedef struct \hyperlink{structgroup__4a}{group\+\_\+4a} \hyperlink{rds_8h_a2a61b4fe5d6bf17f32b8c744a5e4888a}{G\+R\+O\+U\+P\+\_\+4\+A}
\item 
typedef struct \hyperlink{structblock__b}{block\+\_\+b} \hyperlink{rds_8h_acde5bba1b29ae92f2d1c088cbc0e40bd}{B\+L\+O\+C\+K\+\_\+\+B}
\item 
typedef struct \hyperlink{structrds}{rds} \hyperlink{rds_8h_a81e0fb5b6d2d10818bd855ba8b948a14}{R\+D\+S}
\end{DoxyCompactItemize}
\subsection*{Funktionen}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{rds_8h_a1c031719ba892045c773dc035058870f}{rds\+\_\+update} (\hyperlink{radio_8h_a2e4f7894262df4981eeffa04d51e4206}{R\+A\+D\+I\+O} $\ast$\hyperlink{structradio}{radio})
\item 
uint8\+\_\+t \hyperlink{rds_8h_ad4168f8a33d30a3526e416da5997baa9}{rds\+\_\+triggered} ()
\item 
void \hyperlink{rds_8h_a33e5a772a8a82d668cc39ebfd4ba37a4}{rds\+\_\+group\+\_\+4\+A} (\hyperlink{rds_8h_a81e0fb5b6d2d10818bd855ba8b948a14}{R\+D\+S} $\ast$data)
\end{DoxyCompactItemize}


\subsection{Dokumentation der benutzerdefinierten Typen}
\hypertarget{rds_8h_acde5bba1b29ae92f2d1c088cbc0e40bd}{}\index{rds.\+h@{rds.\+h}!B\+L\+O\+C\+K\+\_\+\+B@{B\+L\+O\+C\+K\+\_\+\+B}}
\index{B\+L\+O\+C\+K\+\_\+\+B@{B\+L\+O\+C\+K\+\_\+\+B}!rds.\+h@{rds.\+h}}
\subsubsection[{B\+L\+O\+C\+K\+\_\+\+B}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf block\+\_\+b}  {\bf B\+L\+O\+C\+K\+\_\+\+B}}\label{rds_8h_acde5bba1b29ae92f2d1c088cbc0e40bd}
\hypertarget{rds_8h_aa7225a8602f1106cb23bf648d85efb2c}{}\index{rds.\+h@{rds.\+h}!E\+R\+R@{E\+R\+R}}
\index{E\+R\+R@{E\+R\+R}!rds.\+h@{rds.\+h}}
\subsubsection[{E\+R\+R}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf err}  {\bf E\+R\+R}}\label{rds_8h_aa7225a8602f1106cb23bf648d85efb2c}
\hypertarget{rds_8h_a632395f1ea2941b14cb3baef84705059}{}\index{rds.\+h@{rds.\+h}!F\+I\+F\+O@{F\+I\+F\+O}}
\index{F\+I\+F\+O@{F\+I\+F\+O}!rds.\+h@{rds.\+h}}
\subsubsection[{F\+I\+F\+O}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf fifo}  {\bf F\+I\+F\+O}}\label{rds_8h_a632395f1ea2941b14cb3baef84705059}
\hypertarget{rds_8h_aef18b47083d2359562cfb461abaeb506}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+0\+A@{G\+R\+O\+U\+P\+\_\+0\+A}}
\index{G\+R\+O\+U\+P\+\_\+0\+A@{G\+R\+O\+U\+P\+\_\+0\+A}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+0\+A}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+0a}  {\bf G\+R\+O\+U\+P\+\_\+0\+A}}\label{rds_8h_aef18b47083d2359562cfb461abaeb506}
\hypertarget{rds_8h_acaf58e320b7e8650ce7e6b08e2c7bae6}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+0\+B@{G\+R\+O\+U\+P\+\_\+0\+B}}
\index{G\+R\+O\+U\+P\+\_\+0\+B@{G\+R\+O\+U\+P\+\_\+0\+B}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+0\+B}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+0b}  {\bf G\+R\+O\+U\+P\+\_\+0\+B}}\label{rds_8h_acaf58e320b7e8650ce7e6b08e2c7bae6}
\hypertarget{rds_8h_acfe247c102e1dbe1a43ca964459cc4a8}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+1\+A@{G\+R\+O\+U\+P\+\_\+1\+A}}
\index{G\+R\+O\+U\+P\+\_\+1\+A@{G\+R\+O\+U\+P\+\_\+1\+A}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+1\+A}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+1a}  {\bf G\+R\+O\+U\+P\+\_\+1\+A}}\label{rds_8h_acfe247c102e1dbe1a43ca964459cc4a8}
\hypertarget{rds_8h_a070776b406aa790898c610c4b702f534}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+1\+B@{G\+R\+O\+U\+P\+\_\+1\+B}}
\index{G\+R\+O\+U\+P\+\_\+1\+B@{G\+R\+O\+U\+P\+\_\+1\+B}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+1\+B}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+1b}  {\bf G\+R\+O\+U\+P\+\_\+1\+B}}\label{rds_8h_a070776b406aa790898c610c4b702f534}
\hypertarget{rds_8h_a0ec95853c4e1324ddba45808cbd59c7e}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+2\+A@{G\+R\+O\+U\+P\+\_\+2\+A}}
\index{G\+R\+O\+U\+P\+\_\+2\+A@{G\+R\+O\+U\+P\+\_\+2\+A}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+2\+A}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+2a}  {\bf G\+R\+O\+U\+P\+\_\+2\+A}}\label{rds_8h_a0ec95853c4e1324ddba45808cbd59c7e}
\hypertarget{rds_8h_a5efde26f48e56fb2c2d6191e0758c3af}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+2\+B@{G\+R\+O\+U\+P\+\_\+2\+B}}
\index{G\+R\+O\+U\+P\+\_\+2\+B@{G\+R\+O\+U\+P\+\_\+2\+B}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+2\+B}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+2b}  {\bf G\+R\+O\+U\+P\+\_\+2\+B}}\label{rds_8h_a5efde26f48e56fb2c2d6191e0758c3af}
\hypertarget{rds_8h_a2a61b4fe5d6bf17f32b8c744a5e4888a}{}\index{rds.\+h@{rds.\+h}!G\+R\+O\+U\+P\+\_\+4\+A@{G\+R\+O\+U\+P\+\_\+4\+A}}
\index{G\+R\+O\+U\+P\+\_\+4\+A@{G\+R\+O\+U\+P\+\_\+4\+A}!rds.\+h@{rds.\+h}}
\subsubsection[{G\+R\+O\+U\+P\+\_\+4\+A}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf group\+\_\+4a}  {\bf G\+R\+O\+U\+P\+\_\+4\+A}}\label{rds_8h_a2a61b4fe5d6bf17f32b8c744a5e4888a}
\hypertarget{rds_8h_a4d0cac7fd06c1f9b01c6a67516c95cfb}{}\index{rds.\+h@{rds.\+h}!I\+N\+F\+O@{I\+N\+F\+O}}
\index{I\+N\+F\+O@{I\+N\+F\+O}!rds.\+h@{rds.\+h}}
\subsubsection[{I\+N\+F\+O}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf info}  {\bf I\+N\+F\+O}}\label{rds_8h_a4d0cac7fd06c1f9b01c6a67516c95cfb}
\hypertarget{rds_8h_a81e0fb5b6d2d10818bd855ba8b948a14}{}\index{rds.\+h@{rds.\+h}!R\+D\+S@{R\+D\+S}}
\index{R\+D\+S@{R\+D\+S}!rds.\+h@{rds.\+h}}
\subsubsection[{R\+D\+S}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf rds}  {\bf R\+D\+S}}\label{rds_8h_a81e0fb5b6d2d10818bd855ba8b948a14}
\hypertarget{rds_8h_ada2ef00c464f9ae8ec73e127ea6a4520}{}\index{rds.\+h@{rds.\+h}!S\+T\+A\+T\+U\+S@{S\+T\+A\+T\+U\+S}}
\index{S\+T\+A\+T\+U\+S@{S\+T\+A\+T\+U\+S}!rds.\+h@{rds.\+h}}
\subsubsection[{S\+T\+A\+T\+U\+S}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf status}  {\bf S\+T\+A\+T\+U\+S}}\label{rds_8h_ada2ef00c464f9ae8ec73e127ea6a4520}
\hypertarget{rds_8h_a09f25e919a775a5955c4fb87155e2762}{}\index{rds.\+h@{rds.\+h}!S\+Y\+N\+C@{S\+Y\+N\+C}}
\index{S\+Y\+N\+C@{S\+Y\+N\+C}!rds.\+h@{rds.\+h}}
\subsubsection[{S\+Y\+N\+C}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf sync}  {\bf S\+Y\+N\+C}}\label{rds_8h_a09f25e919a775a5955c4fb87155e2762}


\subsection{Dokumentation der Funktionen}
\hypertarget{rds_8h_a33e5a772a8a82d668cc39ebfd4ba37a4}{}\index{rds.\+h@{rds.\+h}!rds\+\_\+group\+\_\+4\+A@{rds\+\_\+group\+\_\+4\+A}}
\index{rds\+\_\+group\+\_\+4\+A@{rds\+\_\+group\+\_\+4\+A}!rds.\+h@{rds.\+h}}
\subsubsection[{rds\+\_\+group\+\_\+4\+A}]{\setlength{\rightskip}{0pt plus 5cm}void rds\+\_\+group\+\_\+4\+A (
\begin{DoxyParamCaption}
\item[{{\bf R\+D\+S} $\ast$}]{data}
\end{DoxyParamCaption}
)}\label{rds_8h_a33e5a772a8a82d668cc39ebfd4ba37a4}


Definiert in Zeile 111 der Datei rds.\+c.


\begin{DoxyCode}
112 \{
113     \hyperlink{structgroup__4a}{GROUP\_4A} *data2 = (\hyperlink{structgroup__4a}{GROUP\_4A}*) &(data->\hyperlink{structrds_ad1803744db28ac0d226ec8da9134598e}{pi});
114     uint8\_t offset = 0;
115     uint16\_t mdj = 0;
116     uint8\_t m\_hour, m\_minute, m\_day, m\_month, m\_year;
117     \textcolor{comment}{//unsigned char day\_per\_month[12] = \{31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31\};}
118     \textcolor{keywordtype}{int} temp;
119 
120     m\_day = 1;
121     m\_month = 0;
122     m\_year = 10;
123 
124     m\_minute = data2->\hyperlink{structgroup__4a_a4377c294f04582b75e2fcd4134fdeb46}{MINUTE};
125     m\_hour = data2->\hyperlink{structgroup__4a_a20911a4551f89f8c37cc760f72ec2d4d}{HOUR\_L} + data2->\hyperlink{structgroup__4a_a2adde330ffff3e30d1ba194fdb0835cf}{HOUR\_H} * 16;
126     offset = data2->\hyperlink{structgroup__4a_ad17cf07501152f576f64d6bf9d06b453}{TIME\_OFF};
127     mdj = data2->\hyperlink{structgroup__4a_a41f1477fa1205c5f2c4135c43419f931}{DATE\_L} + (data2->\hyperlink{structgroup__4a_a3e79884699012bd2127da5d0d474072b}{DATE\_H} << 15);
128 
129     temp = mdj - 55198 + 1; \textcolor{comment}{//55198 = MDJ of 01.01.2010}
130 
131     \textcolor{keywordflow}{while}(temp > 0)
132     \{
133         m\_day = temp;
134         m\_month++;
135         \textcolor{keywordflow}{if} (m\_month == 13)
136         \{
137             m\_month = 1;
138             m\_year++;
139         \}
140         temp -= \hyperlink{time_8c_a69c350a02f6261a0608b72af33ce375c}{month\_days}[m\_month-1];
141     \}
142     temp = m\_minute + 60 * m\_hour + 30 * offset;
143     \textcolor{keywordflow}{if} (temp >= 1440)
144     \{
145         temp -= 1440;
146         m\_day++;
147     \}
148     \textcolor{keywordflow}{if} (temp < 0)
149     \{
150         temp += 1440;
151         m\_day--;
152     \}
153     m\_minute = temp%60;
154     m\_hour = temp/60;
155     \hyperlink{time_8c_a6b341bdccd1c2c5503da84093f12e145}{time\_set\_time}(m\_hour, m\_minute, m\_day, m\_month, m\_year, 0);
156     \textcolor{comment}{//time\_date(m\_hour, m\_minute, m\_day, m\_month, m\_year, 1, 0, 0, 0);}
157 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{rds_8h_a33e5a772a8a82d668cc39ebfd4ba37a4_cgraph}
\end{center}
\end{figure}




Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rds_8h_a33e5a772a8a82d668cc39ebfd4ba37a4_icgraph}
\end{center}
\end{figure}


\hypertarget{rds_8h_ad4168f8a33d30a3526e416da5997baa9}{}\index{rds.\+h@{rds.\+h}!rds\+\_\+triggered@{rds\+\_\+triggered}}
\index{rds\+\_\+triggered@{rds\+\_\+triggered}!rds.\+h@{rds.\+h}}
\subsubsection[{rds\+\_\+triggered}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t rds\+\_\+triggered (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{rds_8h_ad4168f8a33d30a3526e416da5997baa9}


Definiert in Zeile 103 der Datei rds.\+c.


\begin{DoxyCode}
104 \{
105     uint8\_t \hyperlink{structrds}{rds} = 0;
106     \hyperlink{i2c_8h_a6691e5911f539e1e8178c6e983e8079a}{i2c\_write\_var}(\hyperlink{si4735_8h_afb40425c1e9d89599935df122efbc091}{I2C\_SI4735}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a807d17ddb75240ddeede2c54fd79bd40}{REPT}, 1, 0x14);
107     \hyperlink{i2c_8h_a6dd896b0c82d1aa91a1a8155b41c4566}{i2c\_read}(\hyperlink{si4735_8h_afb40425c1e9d89599935df122efbc091}{I2C\_SI4735}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}, 1, &rds);
108     \textcolor{keywordflow}{return} rds;
109 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rds_8h_ad4168f8a33d30a3526e416da5997baa9_cgraph}
\end{center}
\end{figure}




Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{rds_8h_ad4168f8a33d30a3526e416da5997baa9_icgraph}
\end{center}
\end{figure}


\hypertarget{rds_8h_a1c031719ba892045c773dc035058870f}{}\index{rds.\+h@{rds.\+h}!rds\+\_\+update@{rds\+\_\+update}}
\index{rds\+\_\+update@{rds\+\_\+update}!rds.\+h@{rds.\+h}}
\subsubsection[{rds\+\_\+update}]{\setlength{\rightskip}{0pt plus 5cm}void rds\+\_\+update (
\begin{DoxyParamCaption}
\item[{{\bf R\+A\+D\+I\+O} $\ast$}]{radio}
\end{DoxyParamCaption}
)}\label{rds_8h_a1c031719ba892045c773dc035058870f}


Definiert in Zeile 10 der Datei rds.\+c.


\begin{DoxyCode}
11 \{
12     \textcolor{comment}{//Radio States => [New Freq Bit, Station\_Present Bit, Radio\_Text\_Update Bit, 0 Bit, TP Bit, PTY 5 Bits,
       TA Bit, M/S Bit, DI 4 Bits] LSB}
13     uint8\_t pos;
14     uint8\_t rds\_read\_byte[13];
15     uint8\_t i;
16     uint8\_t temp;
17     \hyperlink{structrds}{RDS} *\hyperlink{structrds}{rds} = (\hyperlink{structrds}{RDS}*) (uint16\_t*) rds\_read\_byte;
18     \textcolor{keywordtype}{char} tmp = 0, doit = 0;
19     \textcolor{keyword}{static} uint8\_t rds\_text\_count = 0, rds\_station\_count = 0;
20     \textcolor{keywordflow}{if}(radio->\hyperlink{structradio_ac40df2ac7cfc276418e34335098903fb}{status}.\hyperlink{structradio__status_a3e502e1dcdc44fc044b4f4b43f35a19a}{freq\_valid} == 0)
21     \{
22         rds\_text\_count = 0;
23         rds\_station\_count = 0;
24         radio->\hyperlink{structradio_ac40df2ac7cfc276418e34335098903fb}{status}.\hyperlink{structradio__status_a88955dc0fd5d9169c68603ba777b643f}{name\_valid} = 0;
25         radio->\hyperlink{structradio_ac40df2ac7cfc276418e34335098903fb}{status}.\hyperlink{structradio__status_a6a0d33cd9094edee0dad3deb6b386914}{text\_valid} = 0;
26         radio->\hyperlink{structradio_ac40df2ac7cfc276418e34335098903fb}{status}.\hyperlink{structradio__status_a3e502e1dcdc44fc044b4f4b43f35a19a}{freq\_valid} = \hyperlink{radio_8h_ad47ac60ff0cfac53148a07bc32fc7585}{VALID};
27     \}
28     \textcolor{keywordflow}{if}(\hyperlink{rds_8c_ad4168f8a33d30a3526e416da5997baa9}{rds\_triggered}() & 0x04)
29     \{
30         \textcolor{keywordflow}{do}
31         \{
32             \hyperlink{i2c_8h_a6691e5911f539e1e8178c6e983e8079a}{i2c\_write\_var}(\hyperlink{si4735_8h_afb40425c1e9d89599935df122efbc091}{I2C\_SI4735}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a807d17ddb75240ddeede2c54fd79bd40}{REPT}, 2, 0x24, 0x01);
33             \hyperlink{i2c_8h_a6dd896b0c82d1aa91a1a8155b41c4566}{i2c\_read}(\hyperlink{si4735_8h_afb40425c1e9d89599935df122efbc091}{I2C\_SI4735}, \hyperlink{i2c_8h_aaaea3962492fd5ad1e43cba027d949d5a679ee5320d66c8322e310daeb2ee99b8}{STOP}, 13, rds\_read\_byte);
34             \textcolor{keywordflow}{for} (i = 4; i <= 10; i+=2) \{
35                 temp = rds\_read\_byte[i];
36                 rds\_read\_byte[i] = rds\_read\_byte[i+1];
37                 rds\_read\_byte[i+1] = temp;
38             \}
39             \textcolor{keywordflow}{if}(rds->\hyperlink{structrds_a533130a85d028e42078891666dd6c6fc}{err}.\hyperlink{structerr_a22256b3ddf2070027c87504d1de20c2f}{BLEA} != 3 && rds->\hyperlink{structrds_a533130a85d028e42078891666dd6c6fc}{err}.\hyperlink{structerr_aadd978be8508790bbf25c9a488ea553c}{BLEB} != 3 && rds->
      \hyperlink{structrds_a533130a85d028e42078891666dd6c6fc}{err}.\hyperlink{structerr_a279b7213c9f5034e0fa7aa8d9c2bc9a2}{BLEC} != 3 && rds->\hyperlink{structrds_a533130a85d028e42078891666dd6c6fc}{err}.\hyperlink{structerr_a3498d51c8fc84119a00242f7bb9b6719}{BLED} != 3)
40             \{
41                 \textcolor{keywordflow}{if} (rds->\hyperlink{structrds_ad8c59b1a87492b568b0bf85aef6f5f87}{block\_b}.\hyperlink{structblock__b_a9f692e9f76ee88348d426bcd4e9bc70b}{GROUP\_NUM} == 2)
42                 \{
43                     \hyperlink{structgroup__2a}{GROUP\_2A} *rds2 = (\hyperlink{structgroup__2a}{GROUP\_2A}*) &(rds->\hyperlink{structrds_ad1803744db28ac0d226ec8da9134598e}{pi});
44                     pos =rds2->\hyperlink{structgroup__2a_ae783bd90764c8455228772c025c064e4}{B}*4;
45                     \textcolor{keywordflow}{if}(++rds\_text\_count == 16)
46                     \{
47                         rds\_text\_count = 0;
48                         radio->\hyperlink{structradio_ac40df2ac7cfc276418e34335098903fb}{status}.\hyperlink{structradio__status_a6a0d33cd9094edee0dad3deb6b386914}{text\_valid} = \hyperlink{radio_8h_ad47ac60ff0cfac53148a07bc32fc7585}{VALID};
49                     \}
50                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a1d7cd4d36a6a2fa49631cef5d5847187}{text}[pos++] = rds2->\hyperlink{structgroup__2a_a51d200a5620dec8e6cd7a76c63d03ed1}{SEGMENT}[1];
51                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a1d7cd4d36a6a2fa49631cef5d5847187}{text}[pos++] = rds2->\hyperlink{structgroup__2a_a51d200a5620dec8e6cd7a76c63d03ed1}{SEGMENT}[0];
52                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a1d7cd4d36a6a2fa49631cef5d5847187}{text}[pos++] = rds2->\hyperlink{structgroup__2a_a51d200a5620dec8e6cd7a76c63d03ed1}{SEGMENT}[3];
53                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a1d7cd4d36a6a2fa49631cef5d5847187}{text}[pos] = rds2->\hyperlink{structgroup__2a_a51d200a5620dec8e6cd7a76c63d03ed1}{SEGMENT}[2];
54                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a1d7cd4d36a6a2fa49631cef5d5847187}{text}[64] = \textcolor{charliteral}{'\(\backslash\)0'};
55                 \}
56                 \textcolor{keywordflow}{if} (rds->\hyperlink{structrds_ad8c59b1a87492b568b0bf85aef6f5f87}{block\_b}.\hyperlink{structblock__b_a9f692e9f76ee88348d426bcd4e9bc70b}{GROUP\_NUM} == 4)
57                 \{
58                     \hyperlink{rds_8c_a33e5a772a8a82d668cc39ebfd4ba37a4}{rds\_group\_4A}(rds);
59                 \}
60                 \textcolor{keywordflow}{if} (rds->\hyperlink{structrds_ad8c59b1a87492b568b0bf85aef6f5f87}{block\_b}.\hyperlink{structblock__b_a9f692e9f76ee88348d426bcd4e9bc70b}{GROUP\_NUM} == 0)
61                 \{
62 
63                     \textcolor{comment}{//*Radio\_States |= (rds\_read\_byte[6 + RDS\_BYTES\_OFFSET] & 0xFC)>>2; //TA Bit M/S Bit DI
       4 Bits}
64                     \hyperlink{structgroup__0a}{GROUP\_0A} *rds2 = (\hyperlink{structgroup__0a}{GROUP\_0A}*) &(rds->\hyperlink{structrds_ad1803744db28ac0d226ec8da9134598e}{pi});
65 
66                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_aaea7b514ca0c80db1989dc43cf4fe3c1}{di} &= ~(1 << rds2->\hyperlink{structgroup__0a_aa6fd8556e02ce89fed23057f1cb37e44}{CI});
67                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_aaea7b514ca0c80db1989dc43cf4fe3c1}{di} |= ~((1 & rds2->\hyperlink{structgroup__0a_ad020d0abff338c9c34924a44478ac591}{DI})<< rds2->\hyperlink{structgroup__0a_aa6fd8556e02ce89fed23057f1cb37e44}{CI});
68 
69                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a8d03256977e8f265177523adc9bab6c0}{ms} = rds2->\hyperlink{structgroup__0a_a0d87191040df43fdd9f67487d0cc1a45}{MS};
70                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_aaa7c4cc5a934d489d475d0f7d26e437c}{ta} = rds2->\hyperlink{structgroup__0a_a6de7751205cef4ffcce610399a030892}{TA};
71 
72                     \textcolor{comment}{//*Radio\_States |= (rds2->TA | rds2->MS | rds2->DI) >> 2;}
73                     pos = rds2->\hyperlink{structgroup__0a_aa6fd8556e02ce89fed23057f1cb37e44}{CI}*2;
74                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a00c5e915306c0baea463b99ba6c09c4f}{name}[pos++] = rds2->\hyperlink{structgroup__0a_a80447425671c19133df16d620705bb09}{PS\_NAME}[1];
75                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a00c5e915306c0baea463b99ba6c09c4f}{name}[pos] = rds2->\hyperlink{structgroup__0a_a80447425671c19133df16d620705bb09}{PS\_NAME}[0];
76                     radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a00c5e915306c0baea463b99ba6c09c4f}{name}[8] = \textcolor{charliteral}{'\(\backslash\)0'};
77                     \textcolor{keywordflow}{if}(++rds\_station\_count == 4)
78                     \{
79                         rds\_station\_count = 0;
80                         radio->\hyperlink{structradio_ac40df2ac7cfc276418e34335098903fb}{status}.\hyperlink{structradio__status_a88955dc0fd5d9169c68603ba777b643f}{name\_valid} = \hyperlink{radio_8h_ad47ac60ff0cfac53148a07bc32fc7585}{VALID};
81                     \}
82                 \}
83             \}
84             radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a6a555813c441b0e0dce51020817fa68e}{pty} = rds->\hyperlink{structrds_ad8c59b1a87492b568b0bf85aef6f5f87}{block\_b}.\hyperlink{structblock__b_a0474967478fbbc2c71b800d2e0132d45}{PTY};
85             radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_ad1803744db28ac0d226ec8da9134598e}{pi} = rds->\hyperlink{structrds_ad1803744db28ac0d226ec8da9134598e}{pi};
86             radio->\hyperlink{structradio_a44efb20f93a5de661983c36b4a870f4e}{rds}.\hyperlink{structradio__rds_a92aabb0ca71171ea02dd5cf0ada0d536}{tp} = rds->\hyperlink{structrds_ad8c59b1a87492b568b0bf85aef6f5f87}{block\_b}.\hyperlink{structblock__b_ab9e634c63b0d95a96716d5f6d7f06d72}{TP};
87             \hyperlink{timer_8c_a3c56af3315c2461dec5ced585a5f84db}{\_delay\_ten\_us}(5);
88             tmp = rds->\hyperlink{structrds_a7f4b3988a39d63bbb74e44a08285d9ef}{fifo}.\hyperlink{structfifo_a8f4ac68e6765f535c5abca00d2a32a89}{RDSFIFOUSED};
89             \textcolor{keywordflow}{if}(tmp < 10 && doit == 0)
90             \{
91                 \textcolor{keywordflow}{break};
92             \}
93             \textcolor{keywordflow}{else}
94             \{
95                 doit = 1;
96             \}
97         \}
98         \textcolor{keywordflow}{while}(tmp > 0);
99     \}
100     \textcolor{comment}{//*Radio\_States |= (rds\_read\_byte[5 + RDS\_BYTES\_OFFSET] & 0x07)<<9 | (rds\_read\_byte[6 +
       RDS\_BYTES\_OFFSET] & 0xE0)<<1; //TP Bit PTY 5 Bits}
101 \}
\end{DoxyCode}


Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{rds_8h_a1c031719ba892045c773dc035058870f_icgraph}
\end{center}
\end{figure}


