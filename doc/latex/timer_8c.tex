\hypertarget{timer_8c}{}\section{driver/src/timer.c-\/\+Dateireferenz}
\label{timer_8c}\index{driver/src/timer.\+c@{driver/src/timer.\+c}}
{\ttfamily \#include $<$driver/timer.\+h$>$}\\*
Include-\/\+Abhängigkeitsdiagramm für timer.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=339pt]{timer_8c__incl}
\end{center}
\end{figure}
\subsection*{Funktionen}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{timer_8c_ad3f0f0ef2fbdbbd7a7bd12e5b30e26f6}{basic\+\_\+clock\+\_\+init} (void)
\item 
void \hyperlink{timer_8c_a896a4c37c6ecf8868ef0dc758e5a598c}{timer\+\_\+init} ()
\item 
\+\_\+\+\_\+interrupt void \hyperlink{timer_8c_abd56b9af5c5095f207b79b18e07c547c}{Timer\+\_\+\+A0} (void)
\item 
\+\_\+\+\_\+interrupt void \hyperlink{timer_8c_aa78fdf57c4b2709d621ef1a59895c8bd}{Timer\+\_\+\+A1} (void)
\item 
void \hyperlink{timer_8c_a276d5cb665b9f8b2c79e53e2f2c5b4f0}{\+\_\+delay\+\_\+ms} (uint16\+\_\+t delay)
\item 
void \hyperlink{timer_8c_a3c56af3315c2461dec5ced585a5f84db}{\+\_\+delay\+\_\+ten\+\_\+us} (uint16\+\_\+t delay)
\end{DoxyCompactItemize}
\subsection*{Variablen}
\begin{DoxyCompactItemize}
\item 
volatile uint16\+\_\+t \hyperlink{timer_8c_ab6610e73cf6ab96714447222bd0c7bca}{timer\+\_\+count} \mbox{[}\hyperlink{timer_8h_a7f642963dfed522de51d21e18b8e088e}{T\+I\+M\+E\+R\+\_\+\+C\+O\+U\+N\+T\+S}\mbox{]}
\item 
volatile uint16\+\_\+t \hyperlink{timer_8c_a6dac6c02f96e5e61d72b31f3f75a82d2}{timer\+\_\+delay}
\end{DoxyCompactItemize}


\subsection{Dokumentation der Funktionen}
\hypertarget{timer_8c_a276d5cb665b9f8b2c79e53e2f2c5b4f0}{}\index{timer.\+c@{timer.\+c}!\+\_\+delay\+\_\+ms@{\+\_\+delay\+\_\+ms}}
\index{\+\_\+delay\+\_\+ms@{\+\_\+delay\+\_\+ms}!timer.\+c@{timer.\+c}}
\subsubsection[{\+\_\+delay\+\_\+ms}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+delay\+\_\+ms (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{delay}
\end{DoxyParamCaption}
)}\label{timer_8c_a276d5cb665b9f8b2c79e53e2f2c5b4f0}


Definiert in Zeile 117 der Datei timer.\+c.


\begin{DoxyCode}
118 \{
119     delay *= 100;
120     \hyperlink{timer_8c_a3c56af3315c2461dec5ced585a5f84db}{\_delay\_ten\_us}(delay);
121 \}
\end{DoxyCode}


Hier ist ein Graph, der zeigt, was diese Funktion aufruft\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{timer_8c_a276d5cb665b9f8b2c79e53e2f2c5b4f0_cgraph}
\end{center}
\end{figure}




Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a276d5cb665b9f8b2c79e53e2f2c5b4f0_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_a3c56af3315c2461dec5ced585a5f84db}{}\index{timer.\+c@{timer.\+c}!\+\_\+delay\+\_\+ten\+\_\+us@{\+\_\+delay\+\_\+ten\+\_\+us}}
\index{\+\_\+delay\+\_\+ten\+\_\+us@{\+\_\+delay\+\_\+ten\+\_\+us}!timer.\+c@{timer.\+c}}
\subsubsection[{\+\_\+delay\+\_\+ten\+\_\+us}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+delay\+\_\+ten\+\_\+us (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{delay}
\end{DoxyParamCaption}
)}\label{timer_8c_a3c56af3315c2461dec5ced585a5f84db}


Definiert in Zeile 123 der Datei timer.\+c.


\begin{DoxyCode}
124 \{
125     \hyperlink{timer_8c_a6dac6c02f96e5e61d72b31f3f75a82d2}{timer\_delay} = 0;
126     TA1CCTL0 |= CCIE;
127     \textcolor{keywordflow}{while}(\hyperlink{timer_8c_a6dac6c02f96e5e61d72b31f3f75a82d2}{timer\_delay} < delay);
128     TA1CCTL0 &= ~CCIE;
129 \}
\end{DoxyCode}


Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{timer_8c_a3c56af3315c2461dec5ced585a5f84db_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_ad3f0f0ef2fbdbbd7a7bd12e5b30e26f6}{}\index{timer.\+c@{timer.\+c}!basic\+\_\+clock\+\_\+init@{basic\+\_\+clock\+\_\+init}}
\index{basic\+\_\+clock\+\_\+init@{basic\+\_\+clock\+\_\+init}!timer.\+c@{timer.\+c}}
\subsubsection[{basic\+\_\+clock\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void basic\+\_\+clock\+\_\+init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{timer_8c_ad3f0f0ef2fbdbbd7a7bd12e5b30e26f6}


Definiert in Zeile 25 der Datei timer.\+c.


\begin{DoxyCode}
26 \{
27     \textcolor{keywordflow}{if} (CALBC1\_16MHZ==0xFF) \{                   \textcolor{comment}{// If calibration constant erased}
28           \textcolor{keywordflow}{while}(1);                               \textcolor{comment}{// do not load, trap CPU!!}
29     \}
30     DCOCTL = 0;                               \textcolor{comment}{// Select lowest DCOx and MODx settings}
31     BCSCTL1 = \hyperlink{radio__configuration_8h_aa20dae62d62d88d3f2e3a394d92957b6}{RADIO\_CALBC1};                   \textcolor{comment}{// Set range}
32     DCOCTL = \hyperlink{radio__configuration_8h_ad42e009112be3fa3698a34fe031fd800}{RADIO\_CALDCO};                    \textcolor{comment}{// Set DCO step + modulation}
33     BCSCTL1 |= DIVA\_2;                        \textcolor{comment}{// ACLK dived by 8}
34     BCSCTL2 = SELM\_0 | DIVM\_0 | DIVS\_3;
35     BCSCTL3 = LFXT1S\_0 | XCAP\_0;
36 \}
\end{DoxyCode}


Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{timer_8c_ad3f0f0ef2fbdbbd7a7bd12e5b30e26f6_icgraph}
\end{center}
\end{figure}


\hypertarget{timer_8c_abd56b9af5c5095f207b79b18e07c547c}{}\index{timer.\+c@{timer.\+c}!Timer\+\_\+\+A0@{Timer\+\_\+\+A0}}
\index{Timer\+\_\+\+A0@{Timer\+\_\+\+A0}!timer.\+c@{timer.\+c}}
\subsubsection[{Timer\+\_\+\+A0}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+interrupt void Timer\+\_\+\+A0 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{timer_8c_abd56b9af5c5095f207b79b18e07c547c}


Definiert in Zeile 103 der Datei timer.\+c.


\begin{DoxyCode}
104 \{
105     uint8\_t i;
106     \textcolor{keywordflow}{for}(i = 0; i < \hyperlink{timer_8h_a7f642963dfed522de51d21e18b8e088e}{TIMER\_COUNTS}; i++) \{
107         \hyperlink{timer_8c_ab6610e73cf6ab96714447222bd0c7bca}{timer\_count}[i]++;
108     \}
109 \}
\end{DoxyCode}
\hypertarget{timer_8c_aa78fdf57c4b2709d621ef1a59895c8bd}{}\index{timer.\+c@{timer.\+c}!Timer\+\_\+\+A1@{Timer\+\_\+\+A1}}
\index{Timer\+\_\+\+A1@{Timer\+\_\+\+A1}!timer.\+c@{timer.\+c}}
\subsubsection[{Timer\+\_\+\+A1}]{\setlength{\rightskip}{0pt plus 5cm}\+\_\+\+\_\+interrupt void Timer\+\_\+\+A1 (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\label{timer_8c_aa78fdf57c4b2709d621ef1a59895c8bd}


Definiert in Zeile 112 der Datei timer.\+c.


\begin{DoxyCode}
113 \{
114     \hyperlink{timer_8c_a6dac6c02f96e5e61d72b31f3f75a82d2}{timer\_delay}++;
115 \}
\end{DoxyCode}
\hypertarget{timer_8c_a896a4c37c6ecf8868ef0dc758e5a598c}{}\index{timer.\+c@{timer.\+c}!timer\+\_\+init@{timer\+\_\+init}}
\index{timer\+\_\+init@{timer\+\_\+init}!timer.\+c@{timer.\+c}}
\subsubsection[{timer\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void timer\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{timer_8c_a896a4c37c6ecf8868ef0dc758e5a598c}


Definiert in Zeile 88 der Datei timer.\+c.


\begin{DoxyCode}
89 \{
90     TA0CCTL0 |= CCIE;           \textcolor{comment}{//enable interrupt on compare}
91     TA0CTL = TASSEL\_2 | ID\_2;   \textcolor{comment}{//SMCLK 2 MHz dived by 8 are 500 kHz = 2 us per count}
92     TA0CCR0 = 500;              \textcolor{comment}{//500 counts are 1 ms for interrupt}
93     TA0CTL |= MC\_1;             \textcolor{comment}{//up-mode counts up to TACCR0 and restart*/}
94 
95     \textcolor{comment}{//TA1CCTL0 |= CCIE;         //enable interrupt on compare}
96     TA1CTL = TASSEL\_2;          \textcolor{comment}{//SMCLK 2 MHz = 500ns per count}
97     TA1CCR0 = 20;               \textcolor{comment}{//500 counts are 10 us for interrupt}
98     TA1CTL |= MC\_1;             \textcolor{comment}{//up-mode counts up to TACCR0 and restart}
99 
100 \}
\end{DoxyCode}


Hier ist ein Graph der zeigt, wo diese Funktion aufgerufen wird\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=210pt]{timer_8c_a896a4c37c6ecf8868ef0dc758e5a598c_icgraph}
\end{center}
\end{figure}




\subsection{Variablen-\/\+Dokumentation}
\hypertarget{timer_8c_ab6610e73cf6ab96714447222bd0c7bca}{}\index{timer.\+c@{timer.\+c}!timer\+\_\+count@{timer\+\_\+count}}
\index{timer\+\_\+count@{timer\+\_\+count}!timer.\+c@{timer.\+c}}
\subsubsection[{timer\+\_\+count}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint16\+\_\+t timer\+\_\+count\mbox{[}{\bf T\+I\+M\+E\+R\+\_\+\+C\+O\+U\+N\+T\+S}\mbox{]}}\label{timer_8c_ab6610e73cf6ab96714447222bd0c7bca}


Definiert in Zeile 10 der Datei timer.\+c.

\hypertarget{timer_8c_a6dac6c02f96e5e61d72b31f3f75a82d2}{}\index{timer.\+c@{timer.\+c}!timer\+\_\+delay@{timer\+\_\+delay}}
\index{timer\+\_\+delay@{timer\+\_\+delay}!timer.\+c@{timer.\+c}}
\subsubsection[{timer\+\_\+delay}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint16\+\_\+t timer\+\_\+delay}\label{timer_8c_a6dac6c02f96e5e61d72b31f3f75a82d2}


Definiert in Zeile 11 der Datei timer.\+c.

